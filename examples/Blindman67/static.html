<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title></title>
		<link rel="stylesheet" type="text/css" media="screen" href="" />
		<style>
			body {
				background: gainsboro;
			}
			canvas {
				box-shadow: 1px 1px 2px rgba(0,0,0,.2);
			}
		</style>
	<head>
<body>

<canvas id="canvas"></canvas>

<script src="../canvas.js"></script>
<script>
	
	// store bg images
	var tile_b64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAACVBMVEUAAACIiIj////YRTzgAAAAh0lEQVR42u3UuQ0AIAwEQYuQ+qAf6qFKesABjwbJ6UbcxEy+GBElcfWGQO9l/5rAL4H3v3J6zjywBQEe8IAHAjzgAQ8EeMADHgjwgAc8EOABD3ggwAMe8ECABzzggQAPeMADAR7wgAcCPOABDwR4wAMeCPCABzwQ4AEPeCDAAx7wQMCcD815AcUZ2zmuCABLAAAAAElFTkSuQmCC";
	var grid_b64 = "data:image/jpeg;base64,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";
	var bg = new Image();
	bg.src = tile_b64;
	
	// prep canvas
	var canvas		= document.getElementById("canvas");
	var context		= canvas.getContext("2d");
	canvas.width	= bg.width;
	canvas.height	= bg.height;
	
	// draw grid onto canvas
	context.drawImage(bg, 0, 0);
	
	function pinch(source, x, y, radius, strength, quality) {
		// variables
		var width	 = canvas.width;
		var height	 = canvas.height;
		var easeW	 = (strength / width) * 4;	// easeWidth???
		var wh		 = width / 2;				// width half ??
		var hh		 = height / 2;				// height half ??
		var stepUnit = (0.5 / wh) * quality;	// ???
		
		// temporary canvas
		var tempCanvas		= document.createElement("canvas");
		var context			= tempCanvas.getContext("2d");
		tempCanvas.width	= width;
		tempCanvas.height	= height;
		context.drawImage(source, 0, 0);
		
		// pinching ??
		for (var i = 0; i < 0.5; i += stepUnit) {
			var r	= i * 2;
			var x	= r * wh;
			var y	= r * hh;
			var xw	= width - (x * 2);
			var rx	= x * easeW;
			var ry	= y * easeW;
			var rw	= width - (rx * 2);
			var rh	= height - (ry * 2);
			context.save();
			context.beginPath();
			context.arc(wh, hh, xw / 2, 0, Math.PI * 2);
			context.clip();
			context.drawImage(source, rx, ry, rw, rh, 0, 0, width, height);
			context.restore();
		}
		return tempCanvas;
	}
	
	var pinched = pinch(canvas, 0, 0, 0, -60, 1.5);
	context.drawImage(pinched, 0, 0);
	
</script>

</body>
</html>